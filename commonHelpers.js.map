{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport function fetchImages(query) {\n  query = encodeURIComponent(query);\n  return fetch(`https://pixabay.com/api/?key=43032370-bcf3e6db34194155efa6e28b4&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryList = document.querySelector('ul.gallery');\n\nexport function renderImages(data) {\n  galleryList.innerHTML = '';\n  const images = data.hits;\n  if (images.length === 0) {\n    iziToast.error({\n      title: 'Error',\n      message: `Error: No such pictures!`,\n      position: 'topRight',\n    });\n  } else {\n    const galleryMarkup = images\n      .map(image => {\n        return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              width=\"1280\"\n              height=\"152\"\n              src=\"${image.webformatURL}\"\n              data-source=\"${image.largeImageURL}\"\n              alt=\"${image.tags}\"\n            />\n            <ul class=\"gallery-description\">\n              <li><h3>Likes</h3><p>${image.likes}</p></li>\n              <li><h3>Views</h3><p>${image.views}</p></li>\n              <li><h3>Comments</h3><p>${image.comments}</p></li>\n              <li><h3>Downloads</h3><p>${image.downloads}</p></li>\n            </ul>\n          </a>\n        </li>`;\n      })\n      .join('');\n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n    // Initialize SimpleLightbox\n    const galleryCfg = {\n      captionsData: 'alt',\n    };\n    let lightbox = new SimpleLightbox('.gallery a', galleryCfg);\n    lightbox.on('show.simplelightbox', function () {});\n    lightbox.refresh();\n  }\n}","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.getElementById('search-form');\nconst inputQuery = document.getElementById('search-input');\n\nsearchForm.addEventListener('submit', e => {\n  e.preventDefault();\n  const query = inputQuery.value.trim();\n  if (query) {\n    fetchImages(query)\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: 'Error',\n            message: `Error: No such pictures!`,\n            position: 'topRight',\n          });\n        } else {\n          renderImages(data);\n        }\n      })\n      .catch(error => {\n        console.error(error);\n        iziToast.error({\n          title: 'Error',\n          message: `An error occurred while loading images. Please try again later.`,\n          position: 'topRight',\n        });\n      });\n  }\n});"],"names":["fetchImages","query","response","galleryList","renderImages","data","images","iziToast","galleryMarkup","image","galleryCfg","lightbox","SimpleLightbox","searchForm","inputQuery","e","error"],"mappings":"6vBACO,SAASA,EAAYC,EAAO,CACjC,OAAAA,EAAQ,mBAAmBA,CAAK,EACzB,MAAM,qEAAqEA,CAAK,0DAA0D,EAC9I,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,CCLA,MAAMC,EAAc,SAAS,cAAc,YAAY,EAEhD,SAASC,EAAaC,EAAM,CACjCF,EAAY,UAAY,GACxB,MAAMG,EAASD,EAAK,KACpB,GAAIC,EAAO,SAAW,EACpBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UAChB,CAAK,MACI,CACL,MAAMC,EAAgBF,EACnB,IAAIG,GACI;AAAA,0CAC2BA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA,qBAKxCA,EAAM,YAAY;AAAA,6BACVA,EAAM,aAAa;AAAA,qBAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA,qCAGMA,EAAM,KAAK;AAAA,qCACXA,EAAM,KAAK;AAAA,wCACRA,EAAM,QAAQ;AAAA,yCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,cAIjD,EACA,KAAK,EAAE,EACVN,EAAY,mBAAmB,YAAaK,CAAa,EAEzD,MAAME,EAAa,CACjB,aAAc,KACpB,EACI,IAAIC,EAAW,IAAIC,EAAe,aAAcF,CAAU,EAC1DC,EAAS,GAAG,sBAAuB,UAAY,CAAE,CAAA,EACjDA,EAAS,QAAO,CACjB,CACH,CC3CA,MAAME,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAa,SAAS,eAAe,cAAc,EAEzDD,EAAW,iBAAiB,SAAUE,GAAK,CACzCA,EAAE,eAAc,EAChB,MAAMd,EAAQa,EAAW,MAAM,KAAI,EAC/Bb,GACFD,EAAYC,CAAK,EACd,KAAKI,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBE,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2BACT,SAAU,UACtB,CAAW,EAEDH,EAAaC,CAAI,CAE3B,CAAO,EACA,MAAMW,GAAS,CACd,QAAQ,MAAMA,CAAK,EACnBT,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kEACT,SAAU,UACpB,CAAS,CACT,CAAO,CAEP,CAAC"}